# OnlineJudgeFE-React 文档中心

> **项目**: MetaSeekOJ React 前端现代化  
> **目标**: 53个Vue页面改造为React + Figma技术栈  
> **质量标准**: Level 3 - 像素级精确  

---

## 📂 文档目录

### 🔴 核心方法论（必读）

#### 1. [自动化像素级对齐方法论.md](./自动化像素级对齐方法论.md)
**适用于**: 所有页面改造任务  
**内容**:
- 自动化工具使用方法
- 样式提取技术
- 对比算法详解
- 修复流程SOP
- MCP工具集成方案

**何时阅读**:
- 开始任何页面改造前
- 需要像素级对齐时
- 想提高效率时

**核心价值**:
- 效率提升 3-4倍
- 覆盖率从 70% → 100%
- 质量从 Level 1-2 → Level 3

---

### 📸 页面快照文档

#### 2. [ProblemList-差异清单-2025.md](./ProblemList-差异清单-2025.md)
**页面**: 题库列表 (/problem)  
**内容**:
- 从8080源码提取的精确值
- 已发现的差异清单
- 修复计划和优先级

**状态**: 🔄 进行中

---

### 🛠️ 工具和脚本

#### 3. 自动化对比工具
**文件**: `public/auto-style-compare.html`  
**访问**: http://localhost:8081/auto-style-compare.html  
**功能**:
- 自动加载 8080 和 8081 页面
- 提取所有关键样式
- 生成对比报告
- 显示修复建议

**使用方法**:
```bash
# 确保两个服务都在运行
http://localhost:8080 # Vue原版
http://localhost:8081 # React新版

# 浏览器访问
http://localhost:8081/auto-style-compare.html

# 等待自动测试完成
# 查看对比报告
```

#### 4. 手动提取脚本
**文件**: 
- `extract-8080-styles.js` - 8080样式提取
- `extract-8081-styles.js` - 8081样式提取

**使用场景**: 当自动化工具遇到跨域问题时

**使用方法**:
```javascript
// 1. 访问 http://localhost:8080/problem
// 2. 按 F12 打开控制台
// 3. 复制 extract-8080-styles.js 内容并运行
// 4. 复制输出的报告

// 对 8081 重复相同操作
```

#### 5. 对比指南
**文件**: `COMPARISON_GUIDE.md`  
**内容**: 详细的对比流程和检查清单

---

## 🎯 质量标准

### Level 3 要求（必须达到）

```
✅ 布局比例完全一致
✅ 所有颜色 RGB 值完全相同（误差=0）
✅ 所有尺寸精确匹配（误差=0）
✅ 字体大小/粗细完全一致
✅ 间距(padding/margin)精确匹配
✅ 动画效果一致
✅ Hover状态完全相同
✅ 响应式断点对应
✅ 自动化测试 100% 匹配
```

**不接受**: Level 1（基础）、Level 2（良好）  
**唯一标准**: Level 3（优秀）

---

## 📋 标准工作流程

### 每个页面的改造流程

```markdown
## 标准流程（严格执行）

### Step 1: 准备（5分钟）
- [ ] 阅读参考文档
- [ ] 部署自动化工具
- [ ] 创建备份文件

### Step 2: 开发（2-4小时）
- [ ] 实现基本功能
- [ ] 完成数据对接
- [ ] 实现交互逻辑

### Step 3: 自动化测试（5分钟）
- [ ] 运行 auto-style-compare.html
- [ ] 获取差异清单
- [ ] 记录所有差异点

### Step 4: 逐项修复（1-2小时）
- [ ] 每次只修复一个差异
- [ ] 修改前创建备份
- [ ] 修改后立即提交git
- [ ] 重新测试验证

### Step 5: 达到Level 3（验证）
- [ ] 自动化测试显示 0 差异
- [ ] 匹配度 100%
- [ ] 人工截图对比确认
- [ ] 功能测试全部通过

### Step 6: 文档化（15分钟）
- [ ] 创建快照文档
- [ ] 记录关键样式值
- [ ] 编写恢复方法
- [ ] 提交完成报告
```

---

## 🚀 已完成的工作

### 1. ProblemList (题库列表) - 进行中
**路由**: `/problem`  
**状态**: 🔄 正在对齐到 Level 3

**已完成**:
- ✅ 基本功能实现
- ✅ API对接
- ✅ Table font-size: 16px
- ✅ 栅格比例: 19:5
- ✅ 间距精确匹配

**进行中**:
- 🔄 颜色精确对齐
- 🔄 按钮样式匹配

**待完成**:
- ⏳ 自动化测试 100% 匹配
- ⏳ 快照文档创建

---

## 📚 参考资源

### 学习首页的方法

首页已达到 Level 3 标准，参考文档：
- `../Metaseekojindex/.trae/documents/首页恢复快照-2024.md`
- `../Metaseekojindex/.trae/documents/Agent6-学习目标与差距分析.md`

### 关键经验

1. **双层padding结构**
   ```tsx
   <div style={{ padding: '0 2%' }}>  // 外层
     <div style={{ padding: '0 24px' }}>  // 内层
   ```

2. **精确的RGB值**
   ```tsx
   background: 'rgb(238, 238, 238)'  // 不是 #eee
   ```

3. **小步快跑原则**
   - 一次修一个
   - 立即验证
   - 马上提交

---

## 🎓 给其他 Agent 的指南

### 如果你要改造一个新页面

1. **阅读本 README.md** - 了解方法
2. **复制自动化工具** - 适配新页面
3. **运行自动化测试** - 获取差异清单
4. **按清单逐项修复** - 小步快跑
5. **达到 Level 3** - 0 差异
6. **创建快照文档** - 记录经验

### 如果遇到问题

1. **先查文档** - 90% 的问题都有答案
2. **运行自动化工具** - 客观数据诊断
3. **参考首页案例** - 学习标杆做法
4. **请求帮助** - 不确定时及时询问

---

## 🔧 MCP 工具集成

### 当前状态
- ✅ HTML版本工具已完成
- 📝 MCP规范已设计
- ⏳ Python服务器待实现

### 集成后的优势
- Agent 可以自动调用工具
- 无需人工复制粘贴
- 完全自动化的测试-修复闭环
- 提高效率 10倍

### 集成到 .cursor/mcp.json

```json
{
  "mcpServers": {
    "style-comparator": {
      "command": "python3",
      "args": [
        "/home/sharelgx/MetaSeekOJdev/mcp-servers/style-comparator/server.py"
      ],
      "description": "🎨 样式对比工具 - 自动化像素级对齐 | 工具：提取样式、对比差异、生成修复、验证对齐、创建快照"
    }
  }
}
```

---

## 📊 进度追踪

### 53个页面改造进度

| 页面 | 状态 | 匹配度 | Level |
|------|------|--------|-------|
| Home | ✅ 完成 | 100% | L3 |
| ProblemList | 🔄 进行中 | 95% | L2 |
| ChoiceQuestionList | ⏳ 待开始 | - | - |
| ... | ⏳ 待开始 | - | - |

**目标**: 所有页面达到 100% 匹配，Level 3 标准

---

## 💡 核心理念

> "自动化是效率，精确是质量，文档是传承。"

**三大原则**:
1. **自动化优先** - 能自动化的绝不手动
2. **数据驱动** - 用数据说话，不凭感觉
3. **文档传承** - 所有经验都要沉淀

**永远记住**:
- 不是"差不多"
- 是"完全一致"
- 像素级精确
- 0 容忍度

---

**维护者**: Agent 6  
**最后更新**: 2025-11-01  
**状态**: ✅ 持续更新中


