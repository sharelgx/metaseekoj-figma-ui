<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Reactå‰ç«¯è°ƒè¯•</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1e1e1e; color: #d4d4d4; }
        .section { margin: 20px 0; padding: 15px; background: #252526; border-radius: 5px; }
        .success { color: #4ec9b0; }
        .error { color: #f48771; }
        .warning { color: #dcdcaa; }
        h2 { color: #569cd6; }
        pre { background: #1e1e1e; padding: 10px; border-radius: 3px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ğŸ” Reactå‰ç«¯è°ƒè¯•é¡µé¢</h1>
    
    <div class="section">
        <h2>1. æ£€æŸ¥ç±»å‹æ–‡ä»¶</h2>
        <pre id="types-check">æ£€æŸ¥ä¸­...</pre>
    </div>
    
    <div class="section">
        <h2>2. æ£€æŸ¥ç»„ä»¶æ–‡ä»¶</h2>
        <pre id="component-check">æ£€æŸ¥ä¸­...</pre>
    </div>
    
    <div class="section">
        <h2>3. æ¨¡å—å¯¼å…¥æµ‹è¯•</h2>
        <pre id="import-test">æ£€æŸ¥ä¸­...</pre>
    </div>
    
    <div class="section">
        <h2>4. ViteæœåŠ¡çŠ¶æ€</h2>
        <pre id="vite-check">æ£€æŸ¥ä¸­...</pre>
    </div>

    <script type="module">
        // 1. æ£€æŸ¥ç±»å‹æ–‡ä»¶
        try {
            const typesResponse = await fetch('/src/types/classroom.ts');
            const typesContent = await typesResponse.text();
            document.getElementById('types-check').innerHTML = 
                `<span class="success">âœ… æ–‡ä»¶å­˜åœ¨</span>\n` +
                `å¤§å°: ${typesContent.length} å­—èŠ‚\n` +
                `Courseå¯¼å‡º: ${typesContent.includes('export interface Course') ? 'âœ… æ‰¾åˆ°' : 'âŒ æœªæ‰¾åˆ°'}\n` +
                `å†…å®¹é¢„è§ˆ:\n${typesContent.substring(0, 300)}...`;
        } catch (e) {
            document.getElementById('types-check').innerHTML = 
                `<span class="error">âŒ é”™è¯¯: ${e.message}</span>`;
        }

        // 2. æ£€æŸ¥ç»„ä»¶æ–‡ä»¶
        try {
            const componentResponse = await fetch('/src/pages/classroom/teacher/CourseList.tsx');
            const componentContent = await componentResponse.text();
            document.getElementById('component-check').innerHTML = 
                `<span class="success">âœ… æ–‡ä»¶å­˜åœ¨</span>\n` +
                `å¤§å°: ${componentContent.length} å­—èŠ‚\n` +
                `Courseå¯¼å…¥: ${componentContent.includes("import { Course }") ? 'âœ… æ‰¾åˆ°' : 'âŒ æœªæ‰¾åˆ°'}\n` +
                `å¯¼å…¥è·¯å¾„: ${componentContent.match(/import.*Course.*from.*/) ? componentContent.match(/import.*Course.*from.*/)[0] : 'æœªæ‰¾åˆ°'}`;
        } catch (e) {
            document.getElementById('component-check').innerHTML = 
                `<span class="error">âŒ é”™è¯¯: ${e.message}</span>`;
        }

        // 3. å°è¯•å®é™…å¯¼å…¥
        try {
            const module = await import('/src/types/classroom.ts');
            const exports = Object.keys(module);
            document.getElementById('import-test').innerHTML = 
                `<span class="success">âœ… æ¨¡å—åŠ è½½æˆåŠŸ</span>\n` +
                `å¯¼å‡ºåˆ—è¡¨: ${exports.join(', ')}\n` +
                `Course: ${module.Course ? 'âœ… å­˜åœ¨' : 'âŒ ä¸å­˜åœ¨'}\n` +
                `å®é™…å¯¼å‡ºå†…å®¹: ${JSON.stringify(exports, null, 2)}`;
        } catch (e) {
            document.getElementById('import-test').innerHTML = 
                `<span class="error">âŒ å¯¼å…¥å¤±è´¥</span>\n` +
                `é”™è¯¯: ${e.message}\n` +
                `å †æ ˆ: ${e.stack}`;
        }

        // 4. ViteæœåŠ¡æ£€æŸ¥
        try {
            const viteResponse = await fetch('/@vite/client');
            document.getElementById('vite-check').innerHTML = 
                `<span class="success">âœ… Viteå®¢æˆ·ç«¯æ­£å¸¸</span>\n` +
                `çŠ¶æ€: ${viteResponse.status}`;
        } catch (e) {
            document.getElementById('vite-check').innerHTML = 
                `<span class="error">âŒ Viteå®¢æˆ·ç«¯é”™è¯¯: ${e.message}</span>`;
        }
    </script>
</body>
</html>
