<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ç‹¬ç«‹ Scratch æµ‹è¯•</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #0f0; }
        .result { padding: 15px; margin: 10px 0; border: 2px solid #0a0; background: #0a0a0a; }
        .ok { border-color: #0f0; color: #0f0; }
        .error { border-color: #f00; color: #f00; }
    </style>
</head>
<body>
    <h1>ğŸ§ª ç‹¬ç«‹ Scratch ç¼–è¾‘å™¨æµ‹è¯•</h1>
    <div id="result"></div>

    <script>
        const result = document.getElementById('result');
        
        async function runTest() {
            let html = '<h2>æµ‹è¯•å¼€å§‹...</h2>';
            result.innerHTML = html;
            
            // æ‰“å¼€ Scratch ç¼–è¾‘å™¨ç‹¬ç«‹é¡µé¢
            const win = window.open('http://localhost:8601/', '_blank');
            
            html += '<div>âœ… å·²åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ Scratch ç¼–è¾‘å™¨</div>';
            html += '<div>â³ ç­‰å¾… 10 ç§’è®©ç¼–è¾‘å™¨åŠ è½½...</div>';
            result.innerHTML = html;
            
            await new Promise(r => setTimeout(r, 10000));
            
            html += '<div class="ok">âœ… 10 ç§’å·²è¿‡ï¼Œç°åœ¨è¯·ï¼š</div>';
            html += '<div>1. åˆ‡æ¢åˆ° Scratch ç¼–è¾‘å™¨æ ‡ç­¾é¡µ</div>';
            html += '<div>2. æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°</div>';
            html += '<div>3. åœ¨æ§åˆ¶å°è¾“å…¥ï¼š</div>';
            html += '<div style="background: #222; padding: 10px; margin: 10px 0; font-family: monospace;">window.scratchExportProjectData</div>';
            html += '<div>4. å¦‚æœè¿”å› <span class="ok">function</span>ï¼Œè¯´æ˜åŠŸèƒ½æ­£å¸¸ âœ…</div>';
            html += '<div>5. å¦‚æœè¿”å› <span class="error">undefined</span>ï¼Œè¯´æ˜ VM æœªåˆå§‹åŒ– âŒ</div>';
            html += '<div style="margin-top: 20px;">ç„¶ååœ¨æ§åˆ¶å°è¾“å…¥ï¼š</div>';
            html += '<div style="background: #222; padding: 10px; margin: 10px 0; font-family: monospace;">const data = window.scratchExportProjectData();<br>console.log(data);</div>';
            html += '<div>å¦‚æœèƒ½çœ‹åˆ°é¡¹ç›®æ•°æ®ï¼Œè¯´æ˜å¯¼å‡ºåŠŸèƒ½å®Œå…¨æ­£å¸¸ï¼</div>';
            
            result.innerHTML = html;
        }

        window.addEventListener('load', () => {
            setTimeout(runTest, 1000);
        });
    </script>
</body>
</html>

