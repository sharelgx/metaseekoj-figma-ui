<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8080 vs 8081 è‡ªåŠ¨è¯Šæ–­ç³»ç»Ÿ</title>
    <style>
        body {
            font-family: monospace;
            margin: 0;
            padding: 20px;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        #results {
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.6;
        }
        .success { color: #4ec9b0; }
        .error { color: #f48771; }
        .warning { color: #dcdcaa; }
        .info { color: #569cd6; }
    </style>
</head>
<body>
    <div id="results">æ­£åœ¨è‡ªåŠ¨è¯Šæ–­...</div>
    
    <script>
        // è‡ªåŠ¨è¯Šæ–­è„šæœ¬ - é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œ
        (function() {
            const output = [];
            
            function log(msg, type = 'info') {
                const className = type;
                output.push({ msg, className });
            }
            
            function render() {
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = output.map(item => 
                    `<span class="${item.className}">${item.msg}</span>`
                ).join('\n');
            }
            
            // ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½
            setTimeout(() => {
                log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—', 'info');
                log('â•‘  ğŸ¤– 8081 è‡ªåŠ¨è¯Šæ–­ç³»ç»Ÿ                                         â•‘', 'info');
                log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'info');
                log('');
                
                const port = window.location.port;
                log(`ğŸ“ å½“å‰ç«¯å£: ${port}`, 'info');
                log('');
                
                // è¯Šæ–­1: å±‚çº§é®æŒ¡æ£€æŸ¥
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('1ï¸âƒ£  å±‚çº§é®æŒ¡æ£€æŸ¥', 'warning');
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('');
                
                const layers = [
                    { selector: 'body', name: 'body' },
                    { selector: '#root', name: '#root' },
                    { selector: '.min-h-screen', name: 'min-h-screenå®¹å™¨' },
                    { selector: 'main', name: 'main' },
                    { selector: 'main > *:first-child', name: 'ç¬¬ä¸€ä¸ªsection' },
                ];
                
                layers.forEach(layer => {
                    const el = document.querySelector(layer.selector);
                    if (el) {
                        const style = getComputedStyle(el);
                        const bg = style.backgroundColor;
                        const bgImage = style.backgroundImage;
                        const opacity = style.opacity;
                        const filter = style.filter;
                        
                        log(`${layer.name}:`, 'info');
                        
                        if (bg !== 'rgba(0, 0, 0, 0)' && bg !== 'transparent') {
                            log(`  background-color: ${bg}`, 'success');
                        } else {
                            log(`  background-color: transparent`, 'warning');
                        }
                        
                        if (bgImage !== 'none') {
                            log(`  background-image: ${bgImage.substring(0, 80)}...`, 'success');
                        }
                        
                        if (opacity !== '1') {
                            log(`  âš ï¸  opacity: ${opacity}`, 'error');
                        }
                        
                        if (filter !== 'none') {
                            log(`  âš ï¸  filter: ${filter}`, 'error');
                        }
                        
                        log('');
                    }
                });
                
                // è¯Šæ–­2: content-appå®¹å™¨æ£€æŸ¥
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('2ï¸âƒ£  content-appå®¹å™¨æ£€æŸ¥', 'warning');
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('');
                
                const contentApp = document.querySelector('main')?.parentElement;
                if (contentApp) {
                    const style = getComputedStyle(contentApp);
                    const bg = style.backgroundColor;
                    
                    log('content-app (mainçš„çˆ¶å®¹å™¨):', 'info');
                    log(`  padding: ${style.padding}`, 'success');
                    log(`  width: ${style.width}`, 'success');
                    log(`  background-color: ${bg}`, bg === 'rgba(0, 0, 0, 0)' || bg === 'transparent' ? 'success' : 'error');
                    
                    if (bg !== 'rgba(0, 0, 0, 0)' && bg !== 'transparent') {
                        log('  âŒ é—®é¢˜: backgroundåº”è¯¥æ˜¯transparentï¼Œè®©paddingéœ²å‡ºçˆ¶èƒŒæ™¯ï¼', 'error');
                    } else {
                        log('  âœ… æ­£ç¡®: backgroundæ˜¯é€æ˜çš„', 'success');
                    }
                    log('');
                }
                
                // è¯Šæ–­3: HeroåŒºåŸŸæ£€æŸ¥
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('3ï¸âƒ£  HeroåŒºåŸŸé¢œè‰²æ£€æŸ¥', 'warning');
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('');
                
                const title = document.querySelector('h1');
                if (title) {
                    const style = getComputedStyle(title);
                    log('æ ‡é¢˜:', 'info');
                    log(`  color: ${style.color}`, 'success');
                    
                    const expected = 'rgb(73, 80, 96)';
                    if (style.color === expected) {
                        log(`  âœ… æ­£ç¡®: ${expected} (iViewç°è‰²)`, 'success');
                    } else {
                        log(`  âŒ é”™è¯¯: åº”è¯¥æ˜¯ ${expected}`, 'error');
                    }
                    log('');
                    
                    // æ£€æŸ¥æ¸å˜æ–‡å­—
                    const gradientSpan = title.querySelector('span');
                    if (gradientSpan) {
                        const spanStyle = getComputedStyle(gradientSpan);
                        log('æ¸å˜æ–‡å­— "é—¯ç¼–ç¨‹å…³å¡!":', 'info');
                        log(`  background-image: ${spanStyle.backgroundImage.substring(0, 80)}...`, 'success');
                        log(`  -webkit-background-clip: ${spanStyle.webkitBackgroundClip}`, 'success');
                        log(`  -webkit-text-fill-color: ${spanStyle.webkitTextFillColor}`, 'success');
                        log('');
                    }
                }
                
                // æ£€æŸ¥æŒ‰é’®
                const challengeBtn = Array.from(document.querySelectorAll('button')).find(btn => 
                    btn.textContent.includes('ç«‹å³æŒ‘æˆ˜')
                );
                if (challengeBtn) {
                    const style = getComputedStyle(challengeBtn);
                    log('"ç«‹å³æŒ‘æˆ˜"æŒ‰é’®:', 'info');
                    log(`  background-image: ${style.backgroundImage}`, 'success');
                    log(`  color: ${style.color}`, 'success');
                    
                    if (style.backgroundImage.includes('linear-gradient')) {
                        log('  âœ… æ­£ç¡®: æœ‰è“ç»¿æ¸å˜', 'success');
                    } else {
                        log('  âŒ é”™è¯¯: åº”è¯¥æœ‰linear-gradientæ¸å˜', 'error');
                    }
                    log('');
                }
                
                // è¯Šæ–­4: å®½åº¦å’Œpaddingæ£€æŸ¥
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('4ï¸âƒ£  å®½åº¦å’Œpaddingæ£€æŸ¥', 'warning');
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('');
                
                if (contentApp) {
                    const rect = contentApp.getBoundingClientRect();
                    const windowWidth = window.innerWidth;
                    const paddingLeft = parseFloat(getComputedStyle(contentApp).paddingLeft);
                    const paddingRight = parseFloat(getComputedStyle(contentApp).paddingRight);
                    
                    log('å®½åº¦ä¿¡æ¯:', 'info');
                    log(`  æµè§ˆå™¨çª—å£: ${windowWidth}px`, 'success');
                    log(`  content-appå®½åº¦: ${rect.width.toFixed(2)}px`, 'success');
                    log(`  å·¦padding: ${paddingLeft.toFixed(2)}px (${(paddingLeft / windowWidth * 100).toFixed(2)}%)`, 'success');
                    log(`  å³padding: ${paddingRight.toFixed(2)}px (${(paddingRight / windowWidth * 100).toFixed(2)}%)`, 'success');
                    log(`  å·¦è¾¹è·: ${rect.left.toFixed(2)}px`, 'success');
                    log(`  å³è¾¹è·: ${(windowWidth - rect.right).toFixed(2)}px`, 'success');
                    log('');
                    
                    if (Math.abs(paddingLeft / windowWidth * 100 - 2) < 0.1) {
                        log('  âœ… æ­£ç¡®: paddingçº¦ä¸º2%', 'success');
                    } else {
                        log('  âŒ é”™è¯¯: paddingåº”è¯¥çº¦ä¸º2%', 'error');
                    }
                    log('');
                }
                
                // è¯Šæ–­5: æœ€ç»ˆè¯„ä¼°
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('5ï¸âƒ£  æœ€ç»ˆè¯„ä¼°', 'warning');
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('');
                
                const bodyBg = getComputedStyle(document.body).backgroundColor;
                const rootBg = getComputedStyle(document.querySelector('#root')).backgroundColor;
                const contentBg = contentApp ? getComputedStyle(contentApp).backgroundColor : 'N/A';
                
                let issues = 0;
                
                if (bodyBg !== 'rgb(238, 238, 238)') {
                    log('âŒ bodyèƒŒæ™¯ä¸æ˜¯rgb(238, 238, 238)', 'error');
                    issues++;
                } else {
                    log('âœ… bodyèƒŒæ™¯æ­£ç¡®', 'success');
                }
                
                if (rootBg !== 'rgba(0, 0, 0, 0)' && rootBg !== 'transparent') {
                    log('âŒ #rootèƒŒæ™¯ä¸æ˜¯é€æ˜', 'error');
                    issues++;
                } else {
                    log('âœ… #rootèƒŒæ™¯æ­£ç¡®ï¼ˆé€æ˜ï¼‰', 'success');
                }
                
                if (contentBg !== 'rgba(0, 0, 0, 0)' && contentBg !== 'transparent') {
                    log('âŒ content-appèƒŒæ™¯ä¸æ˜¯é€æ˜ï¼ˆä¼šé®æŒ¡å·¦å³ç°è‰²ï¼‰', 'error');
                    issues++;
                } else {
                    log('âœ… content-appèƒŒæ™¯æ­£ç¡®ï¼ˆé€æ˜ï¼‰', 'success');
                }
                
                log('');
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                
                if (issues === 0) {
                    log('ğŸ‰ è¯Šæ–­å®Œæˆ: æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼', 'success');
                    log('8081ä¸8080å®Œå…¨ä¸€è‡´ï¼', 'success');
                } else {
                    log(`âš ï¸  è¯Šæ–­å®Œæˆ: å‘ç° ${issues} ä¸ªé—®é¢˜`, 'error');
                    log('è¯·æ ¹æ®ä¸Šè¿°é”™è¯¯æç¤ºè¿›è¡Œä¿®å¤', 'warning');
                }
                
                log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');
                log('');
                log('ğŸ“Š è¯Šæ–­æ•°æ®å·²ä¿å­˜åˆ° window.diagnosisResults', 'info');
                
                // ä¿å­˜è¯Šæ–­ç»“æœ
                window.diagnosisResults = {
                    timestamp: new Date().toISOString(),
                    port: port,
                    body: { backgroundColor: bodyBg },
                    root: { backgroundColor: rootBg },
                    contentApp: contentApp ? {
                        backgroundColor: contentBg,
                        padding: getComputedStyle(contentApp).padding,
                        width: getComputedStyle(contentApp).width,
                    } : null,
                    title: title ? {
                        color: getComputedStyle(title).color,
                    } : null,
                    issues: issues,
                };
                
                render();
                
                // é€šçŸ¥Agent
                console.log('%câœ… è‡ªåŠ¨è¯Šæ–­å®Œæˆ', 'color: #4ec9b0; font-size: 16px; font-weight: bold;');
                console.log('è¯Šæ–­ç»“æœ:', window.diagnosisResults);
                
            }, 1000);
        })();
    </script>
</body>
</html>

